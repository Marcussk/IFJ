<!doctype html>
<head>
<title>Err report</title>
<meta charset="utf-8" />
<link rel=stylesheet href="CodeMirror/doc/docs.css">
<link rel=stylesheet href="CodeMirror/lib/codemirror.css">
<link rel=stylesheet href="CodeMirror/addon/merge/merge.css">
<script src="CodeMirror/lib/codemirror.js"></script>
<script src="CodeMirror/mode/xml/xml.js"></script>
<script src="CodeMirror/addon/merge/diff_match_patch.js"></script>
<script src="CodeMirror/addon/merge/merge.js"></script>
<script>
	
</script>
<style>
.horiz {
	display: block;
}

.horiz span {
	margin: 0;
	display: inline-block;
	width: 49%;
}

.result {
	border: 1;
	background-color: #FF9999;
	border: 1px solid black;
}
</style>
</head>
<body>
	<h1>Err report</h1>
	<div id="template" class="result" style="visibility: hidden;">
		<span class="descr"></span>
		<div class="horiz filenames"></div>
		<div class="horiz">
			<span><b>result</b></span> <span><b>resultRef</b></span>
		</div>
		<div class="retcode" style="visibility: hidden;">
			<span>Return code:</span>
			<div class="horiz"></div>
		</div>
		<span>StdErr: <span class="stderr" > </span></span>
		</br>
		<span class="valgrinderrors">Valgrind errors:</span>
		</br>
		<span>stdout:</span>
		<div class="stdoutdiff"></div>
	</div>
	<script>
		var results = [{"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "Zadejte cislo pro vypocet faktorialu: Vysledek je: 3628800\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": "readln(a);", "stdout": "Zadejte cislo pro vypocet faktorialu: Vysledek je: 3628800\r\n"}, "sampleFile": "../../samples\\sample96.pas", "resultFile": "results/sample96.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "12345\nHello world\n30\n60Hello 299\nUltra hello world\n\n0.00118\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Jednoduchy test na write ", "stdout": "12345\r\nHello world\r\n30\r\n60Hello 299\r\nUltra hello world\r\n\r\n0.00118\r\n"}, "sampleFile": "../../samples\\sample104.pas", "resultFile": "results/sample104.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "Hodnota a je: 2147483647\nHodnota a je: -2147483648\nHodnota a je: -2147483647\n"}, "result": {"returns": 0, "valgrindErrors": -1, "stderr": "", "stdout": "Hodnota a je: 2147483647\r\nHodnota a je: -2147483648\r\nHodnota a je: -2147483647\r\n"}, "sampleFile": "../../samples\\sample105.pas", "resultFile": "results/sample105.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "Hodnota a je: 60\nHodnota b je: 10\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": "Test na zavorky", "stdout": "Hodnota a je: 60\r\nHodnota b je: 10\r\n"}, "sampleFile": "../../samples\\sample106.pas", "resultFile": "results/sample106.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "Nejvetsi cislo je: 3\nFactorial je: 6"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Hlavni telo ", "stdout": "Nejvetsi cislo je: 3\r\nFactorial je: 6"}, "sampleFile": "../../samples\\sample108.pas", "resultFile": "results/sample108.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "5vysl:4\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Jednoduchy test na repat-until", "stdout": "5vysl:4\r\n"}, "sampleFile": "../../samples\\sample110.pas", "resultFile": "results/sample110.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "Funkce abs:\nVysledek je: 5\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Vypocet absolutnej hodnoty ", "stdout": "Funkce abs:\r\nVysledek je: 5\r\n"}, "sampleFile": "../../samples\\sample114.pas", "resultFile": "results/sample114.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "54321vysl:0\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Jednoduchy test na while ", "stdout": "54321vysl:0\r\n"}, "sampleFile": "../../samples\\sample116.pas", "resultFile": "results/sample116.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "kladne\nzaporne\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " Jednoduchy test na if ", "stdout": "kladne\r\nzaporne\r\n"}, "sampleFile": "../../samples\\sample117.pas", "resultFile": "results/sample117.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "\naaddfgsss\n 11133333444567888aaaabccdddeffijknpqrssssstuvvxyz\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " sort basic test ", "stdout": "\r\naaddfgsss\r\n 11133333444567888aaaabccdddeffijknpqrssssstuvvxyz\r\n"}, "sampleFile": "../../samples\\sample198.pas", "resultFile": "results/sample198.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "3\n11\n1\n1\n0\n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " find basic test ", "stdout": "3\r\n11\r\n1\r\n1\r\n0\r\n"}, "sampleFile": "../../samples\\sample199.pas", "resultFile": "results/sample199.json"}, {"resultRef": {"returns": 0, "stdin": "", "stderr": "", "stdout": "nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan \n"}, "result": {"valgrindErrors": -1, "returns": 0, "stderr": "", "descr": " find string concat test / nyan version ", "stdout": "nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan nyan \r\n"}, "sampleFile": "../../samples\\sample200.pas", "resultFile": "results/sample200.json"}];

		function appendValAsSpan(parent, val) {
			var valElm = document.createElement("span");
			valElm.innerHTML = val;
			parent.appendChild(valElm);
		}

		function initUI(result) {
			var value = result.result.stdout;
			var orig = result.resultRef.stdout;
			var returned = result.result.returns;
			var expectedReturn = result.resultRef.returns;
			var template = document.getElementById('template').cloneNode(true);
			var diffDiv = template.getElementsByClassName("stdoutdiff")[0];
			var valgrindErrors = template.getElementsByClassName("valgrinderrors")[0];
			var descrElm = template.getElementsByClassName("descr")[0];
			var stdErrElm = template.getElementsByClassName("stderr")[0];
			descrElm.innerHTML = result.result.descr;
			template.removeAttribute("id");
			stdErrElm.innerHTML = result.result.stderr;
			
			var filenames = template.getElementsByClassName("filenames")[0];
			appendValAsSpan(filenames, result.sampleFile);
			appendValAsSpan(filenames, result.resultFile);

			if (returned != expectedReturn) {
				var resultWrap = template.getElementsByClassName("retcode")[0];
				resultWrap.style.visibility = "visible";

				var r = resultWrap.getElementsByClassName("horiz")[0];
				appendValAsSpan(r, returned);
				appendValAsSpan(r, expectedReturn);

			}
			valgrindErrors.innerHTML += result.result.valgrindErrors;
			document.body.appendChild(template);
			template.style.visibility = "visible";
			if (value != orig) {
				var dv = CodeMirror.MergeView(diffDiv, {
					value : value,
					orig : orig,
					lineNumbers : true,
					mode : "text",
					highlightDifferences : true,
					connect : true,
					collapseIdentical : false
				});
			}

		}

		window.onload = function() {
			var title = document.body.getElementsByTagName("h1")[0];
			title.innerHTML += (", count: " + results.length );
			for (var i = 0; i < results.length; i++)
				initUI(results[i]);
		};
	</script>
</body>

</html>