<!doctype html>
<head>
<title>Err report</title>
<meta charset="utf-8" />
<link rel=stylesheet href="CodeMirror/doc/docs.css">
<link rel=stylesheet href="CodeMirror/lib/codemirror.css">
<link rel=stylesheet href="CodeMirror/addon/merge/merge.css">
<script src="CodeMirror/lib/codemirror.js"></script>
<script src="CodeMirror/mode/xml/xml.js"></script>
<script src="CodeMirror/addon/merge/diff_match_patch.js"></script>
<script src="CodeMirror/addon/merge/merge.js"></script>
<script>
	
</script>
<style>
.horiz {
	display: block;
}

.horiz span {
	margin: 0;
	display: inline-block;
	width: 49%;
}

.result {
	border: 1;
	background-color: #FF9999;
}
</style>
</head>
<body>
	<h1>Err report</h1>
	<div id="template" class="result" style="visibility: hidden;">
		<span class="descr"></span>
		<div class="horiz filenames"></div>
		<div class="horiz">
			<span><b>result</b></span> <span><b>resultRef</b></span>
		</div>
		<div class="retcode" style="visibility: hidden;">
			<span>Return code:</span>
			<div class="horiz"></div>
		</div>
		<span>StdErr: <span class="stderr" > </span></span>
		</br>
		<span class="valgrinderrors">Valgrind errors:</span>
		<span>stdout:</span>
		<div class="stdoutdiff"></div>
	</div>
	<script>
		var results = [{"sampleFile": "../../samples/sample28.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample28.json"}, {"sampleFile": "../../samples/sample29.pas", "resultRef": {"stdout": "Konkatenace", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample29.json"}, {"sampleFile": "../../samples/sample30.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample30.json"}, {"sampleFile": "../../samples/sample31.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample31.json"}, {"sampleFile": "../../samples/sample32.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample32.json"}, {"sampleFile": "../../samples/sample33.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample33.json"}, {"sampleFile": "../../samples/sample34.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample34.json"}, {"sampleFile": "../../samples/sample35.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample35.json"}, {"sampleFile": "../../samples/sample36.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample36.json"}, {"sampleFile": "../../samples/sample37.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample37.json"}, {"sampleFile": "../../samples/sample38.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample38.json"}, {"sampleFile": "../../samples/sample39.pas", "resultRef": {"stdout": "84", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample39.json"}, {"sampleFile": "../../samples/sample40.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample40.json"}, {"sampleFile": "../../samples/sample41.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample41.json"}, {"sampleFile": "../../samples/sample42.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample42.json"}, {"sampleFile": "../../samples/sample43.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample43.json"}, {"sampleFile": "../../samples/sample44.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample44.json"}, {"sampleFile": "../../samples/sample45.pas", "resultRef": {"stdout": "1764", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample45.json"}, {"sampleFile": "../../samples/sample46.pas", "resultRef": {"stdout": "2.5", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample46.json"}, {"sampleFile": "../../samples/sample47.pas", "resultRef": {"stdout": "1764", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample47.json"}, {"sampleFile": "../../samples/sample48.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample48.json"}, {"sampleFile": "../../samples/sample49.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample49.json"}, {"sampleFile": "../../samples/sample50.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample50.json"}, {"sampleFile": "../../samples/sample51.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample51.json"}, {"sampleFile": "../../samples/sample52.pas", "resultRef": {"stdout": "FALSE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample52.json"}, {"sampleFile": "../../samples/sample96.pas", "resultRef": {"stdout": "Zadejte cislo pro vypocet faktorialu: Vysledek je: 3628800\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "Zadejte cislo pro vypocet faktorialu: ", "returns": 7, "descr": "readln(a);", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample96.json"}, {"sampleFile": "../../samples/sample104.pas", "resultRef": {"stdout": "12345\nHello world\n30\n60Hello 299\nUltra hello world\n\n0.00118\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "12345\nHello world\n", "returns": 7, "descr": " Jednoduchy test na write ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample104.json"}, {"sampleFile": "../../samples/sample106.pas", "resultRef": {"stdout": "Hodnota a je: 60\nHodnota b je: 10\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "Hodnota a je: ", "returns": 7, "descr": "Test na zavorky", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample106.json"}, {"sampleFile": "../../samples/sample107.pas", "resultRef": {"stdout": "5.25", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Test interpretu - behova chyba deleni nulou (navratovy kod 8) ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample107.json"}, {"sampleFile": "../../samples/sample108.pas", "resultRef": {"stdout": "Nejvetsi cislo je: 3\nFactorial je: 6", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": " Hlavni telo ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample108.json"}, {"sampleFile": "../../samples/sample109.pas", "resultRef": {"stdout": "4", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": "Test na cislicove literaly", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample109.json"}, {"sampleFile": "../../samples/sample110.pas", "resultRef": {"stdout": "5vysl:4\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "5", "returns": 7, "descr": " Jednoduchy test na repat-until", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample110.json"}, {"sampleFile": "../../samples/sample111.pas", "resultRef": {"stdout": "TRUE", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 7, "descr": "Test na cislicove literaly", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample111.json"}, {"sampleFile": "../../samples/sample116.pas", "resultRef": {"stdout": "54321vysl:0\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "5", "returns": 7, "descr": " Jednoduchy test na while ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample116.json"}, {"sampleFile": "../../samples/sample117.pas", "resultRef": {"stdout": "kladne\nzaporne\n", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "kladne\n", "returns": 7, "descr": " Jednoduchy test na if ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample117.json"}, {"sampleFile": "../../samples/sample130.pas", "resultRef": {"stdout": "", "returns": 7, "stdin": "", "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "result": {"stdout": "12", "returns": 7, "descr": " Hlavni telo programu ", "valgrindErrors": -1, "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "resultFile": "results/sample130.json"}, {"sampleFile": "../../samples/sample190.pas", "resultRef": {"stdout": "5", "returns": 0, "stdin": "", "stderr": ""}, "result": {"stdout": "", "returns": 2, "descr": " Definice funkce ", "valgrindErrors": -1, "stderr": "ERROR(Syntax) Line 13: expected \";\" after function definition, got begin\n"}, "resultFile": "results/sample190.json"}, {"sampleFile": "../../samples/sample191.pas", "resultRef": {"stdout": "", "returns": 7, "stdin": "", "stderr": "ERROR(Runtime/notInit): Attempt to use unitialized variable.\n"}, "result": {"stdout": "", "returns": 2, "descr": " Definice funkce ", "valgrindErrors": -1, "stderr": "ERROR(Syntax) Line 13: expected \";\" after function definition, got begin\n"}, "resultFile": "results/sample191.json"}];

		function appendValAsSpan(parent, val) {
			var valElm = document.createElement("span");
			valElm.innerHTML = val;
			parent.appendChild(valElm);
		}

		function initUI(result) {
			var value = result.result.stdout;
			var orig = result.resultRef.stdout;
			var returned = result.result.returns;
			var expectedReturn = result.resultRef.returns;
			var template = document.getElementById('template').cloneNode(true);
			var diffDiv = template.getElementsByClassName("stdoutdiff")[0];
			var valgrindErrors = template.getElementsByClassName("valgrinderrors")[0];
			var descrElm = template.getElementsByClassName("descr")[0];
			var stdErrElm = template.getElementsByClassName("stderr")[0];
			descrElm.innerHTML = result.result.descr;
			template.removeAttribute("id");
			stdErrElm.innerHTML = result.result.stderr;
			
			var filenames = template.getElementsByClassName("filenames")[0];
			appendValAsSpan(filenames, result.sampleFile);
			appendValAsSpan(filenames, result.resultFile);

			if (returned != expectedReturn) {
				var resultWrap = template.getElementsByClassName("retcode")[0];
				resultWrap.style.visibility = "visible";

				var r = resultWrap.getElementsByClassName("horiz")[0];
				appendValAsSpan(r, returned);
				appendValAsSpan(r, expectedReturn);

			}
			valgrindErrors.innerHTML += result.valgrindErrors;
			document.body.appendChild(template);
			template.style.visibility = "visible";
			if (value != orig) {
				var dv = CodeMirror.MergeView(diffDiv, {
					value : value,
					orig : orig,
					lineNumbers : true,
					mode : "text",
					highlightDifferences : true,
					connect : true,
					collapseIdentical : false
				});
			}

		}

		window.onload = function() {
			var title = document.body.getElementsByTagName("h1")[0];
			title.innerHTML += (", count: " + results.length );
			for (var i = 0; i < results.length; i++)
				initUI(results[i]);
		};
	</script>
</body>

</html>